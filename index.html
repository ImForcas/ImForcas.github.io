<html><head><base href="/">
<style>
body {
    background: linear-gradient(120deg, #2c3e50, #2c3e50);
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    min-height: 100vh;
    margin: 0;
    padding: 20px;
}

.game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin-top: 50px;
    backdrop-filter: blur(10px);
    background: rgba(20, 20, 20, 0.9);
    padding: 2rem;
    border: 2px solid #gold;
    border-radius: 15px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    color: #fff;
}

h1 {
    color: #gold;
    font-family: 'Times New Roman', serif;
    font-size: 2.5rem;
    margin-bottom: 2rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    background: linear-gradient(45deg, #FFD700, #FFA500);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    position: relative;
}

h1::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, #3498db, transparent);
}

.grid {
    display: grid;
    grid-template-rows: repeat(6, 1fr);
    gap: 8px;
    margin-bottom: 30px;
    background: rgba(255,255,255,0.7);
    padding: 20px;
    border-radius: 10px;
}

.row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
}

.tile {
    width: 60px;
    height: 60px;
    border: 2px solid #ccc;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.tile:empty {
    background: rgba(255,255,255,0.5);
}

.tile.correct {
    background-color: #6aaa64;
    color: white;
    border-color: #6aaa64;
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(106, 170, 100, 0.5);
}

.tile.wrong-position {
    background-color: #c9b458;
    color: white;
    border-color: #c9b458;
    transform: scale(1.05);
}

.tile.incorrect {
    background-color: #787c7e;
    color: white;
    border-color: #787c7e;
    transform: scale(1.05);
}

.tile:empty:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#guess-input {
    padding: 12px 20px;
    font-size: 18px;
    border: none;
    border-radius: 25px;
    margin-bottom: 15px;
    width: 200px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

button {
    padding: 12px 30px;
    font-size: 18px;
    background: linear-gradient(45deg, #4CAF50, #45a049);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
}

button:active {
    transform: translateY(2px);
}

.victory-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.victory-image {
    width: 100vw;
    height: 100vh;
    object-fit: contain;
    animation: zoomPulse 3s ease-in-out infinite;
}

@keyframes zoomPulse {
    0% { transform: scale(0.8); }
    50% { transform: scale(1.1); }
    100% { transform: scale(0.8); }
}

.winner-text {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 72px;
    color: #2ecc71;
    text-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
    z-index: 1001;
    display: none;
    font-weight: bold;
    font-family: 'Impact', sans-serif;
}

@keyframes slideIn {
    to {
        right: 20px;
    }
}

.encouragement-popup {
    position: fixed;
    right: -300px;
    top: 50%;
    transform: translateY(-50%);
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    width: 250px;
    animation: slideIn 0.5s forwards;
    z-index: 999;
}

.encouragement-popup.fade-out {
    animation: slideOut 0.5s forwards;
}

@keyframes slideOut {
    from {
        right: 20px;
    }
    to {
        right: -300px;
    }
}

.stickman-container {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    height: 200px;
    width: 100px;
    z-index: 2;
}

.stickman-left {
    left: 20px;
}

.stickman-right {
    right: 20px;
}

.stickman {
    stroke: #ffffff;
    stroke-linecap: round;
    stroke-width: 4;
    fill: none;
    animation: dance var(--dance-speed, 1s) infinite alternate ease-in-out;
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
}

@keyframes dance {
    0% {
        transform: rotate(-5deg) translateY(0);
    }
    100% {
        transform: rotate(5deg) translateY(-10px);
    }
}

#try-again-btn {
    display: none;
    margin-top: 20px;
    background: #e74c3c;
}

#try-again-btn:hover {
    background: #c0392b;
}

.info-button {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #3498db;
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 1002;
}

.modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 30px;
    border-radius: 15px;
    max-width: 500px;
    width: 90%;
}

.close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
    color: #666;
}

.modal-content h2 {
    color: #2c3e50;
    margin-bottom: 20px;
}

.modal-content p {
    color: #34495e;
    line-height: 1.6;
    margin-bottom: 15px;
}

.fake-ad {
    position: fixed;
    background: white;
    border: 2px solid #gold;
    border-radius: 10px;
    padding: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    z-index: 1;
    animation: float 3s infinite ease-in-out;
}

.fake-ad img {
    width: 200px;
    height: 150px;
    object-fit: cover;
    border-radius: 5px;
}

.fake-ad-close {
    position: absolute;
    top: 5px;
    right: 5px;
    cursor: pointer;
    background: black;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.animated-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    opacity: 0.2;
}

.bg-gif {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.wheel-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 1005;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.wheel {
    width: 300px;
    height: 300px;
    position: relative;
    transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);
}

.wheel img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.wheel-section {
    position: absolute;
    width: 50%;
    height: 50%;
    transform-origin: 100% 100%;
    background: #2c3e50;
}

.wheel-section.win {
    background: #e74c3c;
    width: 10%;
}

.loser-text {
    display: none;
    font-size: 120px;
    font-weight: bold;
    text-shadow: 0 0 20px rgba(231, 76, 60, 0.8);
    animation: pulse 0.5s infinite alternate;
    font-family: 'Impact', sans-serif;
    margin-top: 30px;
}

@keyframes pulse {
    from { transform: scale(1); }
    to { transform: scale(1.1); }
}

#gamble-btn {
    background: linear-gradient(45deg, #e74c3c, #c0392b);
}

.pointing-arrow {
    position: fixed;
    top: 70px;
    right: 70px;
    width: 100px;
    height: 100px;
    transform: rotate(-45deg);
    z-index: 1000;
    animation: pulse 1s infinite;
    pointer-events: none;
}

.pointing-arrow::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 30px;
    background: red;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
}

@keyframes pulse {
    0% { transform: rotate(-45deg) scale(1); }
    50% { transform: rotate(-45deg) scale(1.2); }
}

.mute-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.mute-button:hover {
    transform: scale(1.1);
}

.music-switch-button {
    position: fixed;
    bottom: 20px;
    right: 80px; 
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.music-switch-button:hover {
    transform: scale(1.1);
}

.reviews-container {
    position: fixed;
    bottom: 20px;
    left: 20px;
    width: 250px;
    height: 150px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    padding: 15px;
    overflow: hidden;
    z-index: 1000;
}

.reviews-scroll {
    animation: scrollUp 20s linear infinite;
}

.review {
    color: white;
    margin-bottom: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
}

.review-author {
    color: #ffd700;
    font-style: italic;
    font-size: 12px;
    margin-top: 5px;
}

@keyframes scrollUp {
    0% {
        transform: translateY(100%);
    }
    100% {
        transform: translateY(-100%);
    }
}

.alphabet-container {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    z-index: 1000;
}

.alphabet-letter {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.2);
    border-radius: 5px;
    color: white;
    font-weight: bold;
    transition: all 0.3s ease;
}

.alphabet-letter.used {
    text-decoration: line-through;
    opacity: 0.5;
    background: #787c7e;
}

.alphabet-letter.correct {
    background: #6aaa64;
    text-decoration: none;
    opacity: 1;
}

.alphabet-letter.incorrect {
    background: #e74c3c;
    text-decoration: line-through;
    opacity: 0.5;
}

.demotyvacija {
    position: fixed;
    right: -100%;
    top: 50%;
    transform: translateY(-50%);
    transition: right 1s ease-in-out;
    z-index: 1010;
}

.demotyvacija.show {
    right: 0;
}

.demotyvacija img {
    max-height: 80vh;
    width: auto;
}
</style>
</head>
<body>
<div class="animated-background">
    <img src="gam.gif" alt="Animated background gif 1" class="bg-gif">
    <img src="gifp.gif" alt="Animated background gif 2" class="bg-gif">
    <img src="gifp.gif" alt="Animated background gif 3" class="bg-gif">
    <img src="gam.gif" alt="Animated background gif 4" class="bg-gif">
</div>
<div class="stickman-container stickman-left">
    <svg class="stickman" viewBox="0 0 100 200">
        <circle cx="50" cy="30" r="20"/>
        <line x1="50" y1="50" x2="50" y2="120"/>
        <line x1="50" y1="120" x2="20" y2="160"/>
        <line x1="50" y1="120" x2="80" y2="160"/>
        <line x1="50" y1="70" x2="20" y2="90"/>
        <line x1="50" y1="70" x2="80" y2="90"/>
    </svg>
</div>

<div class="game-container">
    <h1>Domo Palubinsko Wordle</h1>
    <div class="grid" id="grid"></div>
    <input type="text" id="guess-input" maxlength="5" placeholder="Enter your guess">
    <button onclick="makeGuess()">Guess</button>
    <button id="try-again-btn" onclick="resetGame()">Try Again</button>
    <button id="gamble-btn" onclick="startGamble()">Gamble</button>
</div>

<div class="alphabet-container">
    <div class="letter-grid">
        <!-- Will be populated by JavaScript -->
    </div>
</div>

<div class="stickman-container stickman-right">
    <svg class="stickman" viewBox="0 0 100 200">
        <circle cx="50" cy="30" r="20"/>
        <line x1="50" y1="50" x2="50" y2="120"/>
        <line x1="50" y1="120" x2="20" y2="160"/>
        <line x1="50" y1="120" x2="80" y2="160"/>
        <line x1="50" y1="70" x2="20" y2="90"/>
        <line x1="50" y1="70" x2="80" y2="90"/>
    </svg>
</div>

<div class="victory-overlay" id="victory-overlay">
    <img src="Screenshot_2306.png" alt="Victory celebration meme image" class="victory-image" width="800" height="600">
</div>

<audio id="victory-audio" src="Gimtadieno daina.mp3"></audio>
<audio id="background-music" src="muzika.mp3" loop></audio>
<audio id="song1" src="1.mp3" loop></audio>
<audio id="song2" src="2.mp3" loop></audio>
<audio id="song3" src="3.mp3" loop></audio>
<audio id="song4" src="4.mp3" loop></audio>
<button class="mute-button" id="mute-button">🔊</button>
<button class="music-switch-button" id="music-switch-button">🎵</button>

<button class="info-button" onclick="showInfo()">i</button>

<div class="modal" id="info-modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeInfo()">&times;</span>
        <h2>How to Play</h2>
        <p>Try to guess the word in 6 tries. Each guess must be a 5-letter word.</p>
        <p>After each guess, the color of the tiles will change:</p>
        <p>- Green: Letter is in the correct spot<br>
        - Yellow: Letter is in the word but in the wrong spot<br>
        - Gray: Letter is not in the word</p>
        <p>Note: Words can be in Lithuanian but will not contain Lithuanian letters (ą, ę, ė, į, š, ų, ū, č, ž).</p>
    </div>
</div>

<div class="wheel-container" id="wheel-container">
    <div class="wheel" id="wheel">
        <img src="RouletteWheel1.png" alt="Roulette wheel">
    </div>
    <div class="loser-text" id="loser-text">LOSER</div>
</div>

<div class="reviews-container">
    <div class="reviews-scroll">
        <div class="review">
            "Geriausias žaidimas kurį esu matęs!"
            <div class="review-author">- Jonukas iš Kauno</div>
        </div>
        <div class="review">
            "Neįmanoma sustoti žaisti, priklausomybę sukelia!"
            <div class="review-author">- Petras iš Vilniaus</div>
        </div>
        <div class="review">
            "Labai linksmas žaidimas, rekomenduoju visiems!"
            <div class="review-author">- Marytė iš Klaipėdos</div>
        </div>
        <div class="review">
            "Praleidau visa vakara spėliodamas žodžius xDD"
            <div class="review-author">- Tomas iš Šiaulių</div>
        </div>
        <div class="review">
            "Pagaliau lietuviškas Wordle! Super!"
            <div class="review-author">- Rūta iš Panevėžio</div>
        </div>
    </div>
</div>

<script>
    const WORDS = ["BALLS", "BOOBS", "PENIS", "JONAS", "FARTS", "GOOFY", "SILLY", "BONER", "DOMAS", "LMFAO", "JOKER", "DUONA", "PENER", "LABAS", "FUNNY", "SILKE", "TICHE", "STINK", "BURGE", "PIZDA", "KURVA", "SYSIU", "LINUX", "ROKAS", "KAZYS", "MANGO", "AKMUO", "LOPAS", "ZAZAS", "DUPCE", "SUDAS", "KAKIS", "LOOOL", "SIGMA", "HOMER", "RASTA", "KLAVI", "VEJAI", "RINKA", "KELMA", "MELYS", "GIRIA", "RAMUS", "LAKAS", "PIKAS", "TILTA", "SVEIK", "GRAND", "MUZIK", "VARPA", "ZOLES", "MESKA", "BALSŲ", "SVENT", "KYSIS", "APPLE", "GHOST", "SMILE", "PLANE", "DRIVE", "MOUSE", "HOUSE", "FRESH", "CLOUD", "LIGHT", "CHESS", "PEARL", "BRAVE", "CABLE", "SUGAR", "HEART", "THINK", "QUIET", "PLANT", "SIGHT", "GOGLE", "KLIMA", "TEVAS", "LOPAS", "VEZIM", "VIRUS", "LAPAS", "SEJOS", "RATAS", "SAULE", "KIAUS", "TRASA", "VALKA", "RINKT", "TVORA", "SVETA", "NERIS", "DRAUG", "SKOLA", "GREIT", "SALDA", "TURIS", "LYDIS", "SALIS", "RAUDU", "NUOMA", "KAPAS", "RANKA", "TROBA", "METAI", "ZALIS", "SOUND", "BLACK", "PLACE", "SHAPE", "STORY", "WATER", "BRUSH", "TRUST", "WORMS", "PITCH", "SLEEP", "SPEED", "WORDS", "BRING", "EARTH", "SIGHT", "START", "THROW", "WHITE", "CRISP", "FLOCK", "GLASS", "GRASS", "GREAT", "FRUIT", "GUEST", "LEVEL", "NOISE", "OCEAN", "PEACE", "KASTI", "PILKA", "STIGA", "BUNDA", "VEJAS", "GREZE", "AKMEN", "KRANK", "LAPES", "KARTA", "TIKTI", "VIENA", "MATAS", "VAISI", "GENYS", "LAIME", "BANDA", "LYGUS", "SMUKA", "LIETI", "FIELD", "SHINE", "CLEAR", "GRACE", "SPARK", "SHOUT", "PRIDE", "BRAND", "STORM", "FRIEND", "SHORE", "BLEND", "MARCH", "HEAVY", "WORRY", "GLOBE", "TRAIN", "CLIMB", "NIGHT", "PRIZE"];
const VICTORY_IMAGES = [
    "Screenshot_2306.png",
    "2dmfz0.jpg",
    "20230315_212946.jpg", 
    "abcs.png",
    "coton.yeti-20082024-0002.jpg",
    "GbXj-ZJXcAIewa9.png",
    "IMG_20230315_204123.jpg",
    "Screenshot_2024-03-30_121058.png",
    "Snapchat-409393994.jpg",
    "SPOIR_unknown.png",
    "ugha.gif"
];
let WORD = WORDS[Math.floor(Math.random() * WORDS.length)];
let currentRow = 0;
const MAX_TRIES = 6;

const encouragements = [
    "You're getting closer!",
    "Nice try! Keep going!",
    "That's a creative guess!",
    "You've got this!",
    "Almost there!",
    "Don't give up!"
];

let usedLetters = new Set();
let correctLetters = new Set();

function showEncouragement() {
    const popup = document.createElement('div');
    popup.className = 'encouragement-popup';
    popup.textContent = encouragements[Math.floor(Math.random() * encouragements.length)];
    document.body.appendChild(popup);

    setTimeout(() => {
        popup.classList.add('fade-out');
        setTimeout(() => {
            document.body.removeChild(popup);
        }, 500);
    }, 2000);
}

function createGrid() {
    const grid = document.getElementById('grid');
    for (let i = 0; i < MAX_TRIES; i++) {
        const row = document.createElement('div');
        row.className = 'row';
        for (let j = 0; j < 5; j++) {
            const tile = document.createElement('div');
            tile.className = 'tile';
            row.appendChild(tile);
        }
        grid.appendChild(row);
    }
    const arrow = document.createElement('div');
    arrow.className = 'pointing-arrow';
    document.body.appendChild(arrow);

    setTimeout(() => {
        arrow.style.opacity = '0';
        setTimeout(() => arrow.remove(), 1000);
    }, 3000);
}

function createAlphabet() {
    const letterGrid = document.querySelector('.letter-grid');
    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    
    alphabet.split('').forEach(letter => {
        const letterDiv = document.createElement('div');
        letterDiv.className = 'alphabet-letter';
        letterDiv.dataset.letter = letter;
        letterDiv.textContent = letter;
        letterGrid.appendChild(letterDiv);
    });
}

function resetGame() {
    currentRow = 0;
    WORD = WORDS[Math.floor(Math.random() * WORDS.length)];
    const grid = document.getElementById('grid');
    grid.innerHTML = '';
    createGrid();
    usedLetters = new Set();
    correctLetters = new Set();
    document.querySelectorAll('.alphabet-letter').forEach(letterDiv => {
        letterDiv.classList.remove('used', 'correct', 'incorrect');
    });
    document.getElementById('try-again-btn').style.display = 'none';
    document.getElementById('guess-input').value = '';
    document.getElementById('guess-input').disabled = false;
    document.getElementById('victory-overlay').style.display = 'none';
    document.querySelector('.info-button').style.display = 'block'; 
    const audio = document.getElementById('victory-audio');
    audio.pause();
    audio.currentTime = 0;
    document.querySelector('.reviews-container').style.display = 'block';

    // Remove winner elements if they exist
    const winnerText = document.querySelector('.winner-text');
    if (winnerText) winnerText.remove();
    
    const playAgainBtn = document.querySelector('button[style*="zIndex: 1001"]');
    if (playAgainBtn) playAgainBtn.remove();

    // Reset dance speed
    document.documentElement.style.setProperty('--dance-speed', '1s');
}

function updateLetterStatuses(guess) {
    guess.split('').forEach(letter => {
        const letterDiv = document.querySelector(`.alphabet-letter[data-letter="${letter}"]`);
        if (WORD.includes(letter)) {
            letterDiv.classList.add('correct');
            correctLetters.add(letter);
        } else {
            letterDiv.classList.add('incorrect');
        }
        usedLetters.add(letter);
    });
}

let inactivityTimer;

function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    inactivityTimer = setTimeout(showDemotyvacija, 30000);
}

function showDemotyvacija() {
    const demotyvacija = document.createElement('div');
    demotyvacija.className = 'demotyvacija';
    demotyvacija.innerHTML = '<img src="demotyvacija.jpg" alt="Demotyvacija" width="400">';
    document.body.appendChild(demotyvacija);
    
    setTimeout(() => {
        demotyvacija.classList.add('show');
        setTimeout(() => {
            demotyvacija.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(demotyvacija);
                resetInactivityTimer();
            }, 1000);
        }, 5000);
    }, 100);
}

// Add event listeners
document.getElementById('guess-input').addEventListener('input', resetInactivityTimer);
document.addEventListener('keydown', resetInactivityTimer);
document.addEventListener('click', resetInactivityTimer);

// Start initial timer
resetInactivityTimer();

function makeGuess() {
    const input = document.getElementById('guess-input');
    const guess = input.value.toUpperCase();
    
    if (guess.length !== 5) {
        alert("Please enter a 5-letter word!");
        return;
    }

    const row = document.getElementsByClassName('row')[currentRow];
    const tiles = row.children;
    
    let remainingWord = WORD.split('');
    let remainingGuess = guess.split('');
    const tileStatuses = new Array(5).fill('incorrect');

    for (let i = 0; i < 5; i++) {
        tiles[i].textContent = guess[i];
        if (guess[i] === WORD[i]) {
            tileStatuses[i] = 'correct';
            remainingWord[i] = null;
            remainingGuess[i] = null;
        }
    }

    for (let i = 0; i < 5; i++) {
        if (remainingGuess[i] !== null) {
            const wordIndex = remainingWord.indexOf(remainingGuess[i]);
            if (wordIndex !== -1) {
                tileStatuses[i] = 'wrong-position';
                remainingWord[wordIndex] = null;
            }
        }
    }

    for (let i = 0; i < 5; i++) {
        tiles[i].className = `tile ${tileStatuses[i]}`;
    }

    updateLetterStatuses(guess);

    if (guess === WORD) {
        const overlay = document.getElementById('victory-overlay');
        overlay.style.display = 'flex';
        
        // Set random victory image
        const randomImage = VICTORY_IMAGES[Math.floor(Math.random() * VICTORY_IMAGES.length)];
        document.querySelector('.victory-image').src = randomImage;
        
        const audio = document.getElementById('victory-audio');
        audio.play();
        audio.loop = true;
        document.querySelector('.info-button').style.display = 'none'; 
        
        // Mute ALL songs on victory
        songs.forEach(song => {
            song.pause();
            song.currentTime = 0;
        });
        
        muteButton.textContent = '🔇';
        isMuted = true;
        document.querySelector('.reviews-container').style.display = 'none';

        // Show WINNER text after 5 seconds
        setTimeout(() => {
            const winnerText = document.createElement('div');
            winnerText.className = 'winner-text';
            winnerText.textContent = 'WINNER';
            document.body.appendChild(winnerText);
            winnerText.style.display = 'block';
            
            // Show Play Again button after another 5 seconds
            setTimeout(() => {
                const playAgainBtn = document.createElement('button');
                playAgainBtn.textContent = 'Play Again';
                playAgainBtn.style.position = 'fixed';
                playAgainBtn.style.top = '70%';
                playAgainBtn.style.left = '50%';
                playAgainBtn.style.transform = 'translate(-50%, -50%)';
                playAgainBtn.style.zIndex = '1001';
                playAgainBtn.style.padding = '15px 30px';
                playAgainBtn.style.fontSize = '24px';
                playAgainBtn.style.background = '#2ecc71';
                playAgainBtn.style.cursor = 'pointer';
                playAgainBtn.onclick = () => {
                    document.body.removeChild(winnerText);
                    document.body.removeChild(playAgainBtn);
                    resetGame();
                };
                document.body.appendChild(playAgainBtn);
            }, 5000);
        }, 5000);
    } else {
        showEncouragement();
        if (currentRow === MAX_TRIES - 1) {
            alert("Nice try!");
            document.getElementById('try-again-btn').style.display = 'block';
            document.getElementById('guess-input').disabled = true;
        }
    }

    currentRow++;

    // After processing the guess, increase dance speed
    const currentSpeed = parseFloat(document.documentElement.style.getPropertyValue('--dance-speed') || '1s');
    const newSpeed = Math.max(0.3, currentSpeed - 0.1); // Don't go faster than 0.3s
    document.documentElement.style.setProperty('--dance-speed', `${newSpeed}s`);

    input.value = '';

    if (currentRow > 0) {
        setTimeout(showNextAd, 1000); // Show ad 1 second after guess
    }
}

document.getElementById('guess-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        makeGuess();
    }
});

function showInfo() {
    document.getElementById('info-modal').style.display = 'block';
}

function closeInfo() {
    document.getElementById('info-modal').style.display = 'none';
}

window.onclick = function(event) {
    const modal = document.getElementById('info-modal');
    if (event.target == modal) {
        modal.style.display = 'none';
    }
}

function createFakeAds() {
    const adImages = ['pop.png', 'pop2.jpg', 'pop3.jpg', 'pop4.png', 'kelnes.jpg'];
    const positions = [
        {top: '20%', left: '20%'},
        {top: '30%', right: '20%'},
        {bottom: '20%', left: '30%'},
        {bottom: '30%', right: '30%'},
        {top: '40%', left: '40%'}
    ];
    
    // Shuffle the ads array for random order
    window.pendingAds = adImages
        .map((img, index) => ({img, position: positions[index]}))
        .sort(() => Math.random() - 0.5);
}

function showNextAd() {
    if (window.pendingAds && window.pendingAds.length > 0) {
        const adData = window.pendingAds.shift();
        const ad = document.createElement('div');
        ad.className = 'fake-ad';
        Object.assign(ad.style, adData.position);
        
        ad.innerHTML = `
            <span class="fake-ad-close">×</span>
            <img src="${adData.img}" alt="Advertisement" width="200" height="150">
        `;
        
        document.body.appendChild(ad);
        
        ad.querySelector('.fake-ad-close').onclick = () => {
            ad.style.display = 'none';
        };
    }
}

function createWheel() {
    const wheel = document.getElementById('wheel');
    wheel.innerHTML = `<img src="RouletteWheel1.png" alt="Roulette wheel">`;
}

function startGamble() {
    const wheelContainer = document.getElementById('wheel-container');
    const wheel = document.getElementById('wheel');
    const loserText = document.getElementById('loser-text');
    const gambleBtn = document.getElementById('gamble-btn');
    
    wheelContainer.style.display = 'flex';
    loserText.style.display = 'none';
    wheel.style.transform = 'rotate(0deg)';
    
    // Disable gamble button
    gambleBtn.disabled = true;
    gambleBtn.style.opacity = '0.5';
    gambleBtn.style.cursor = 'not-allowed';
    
    // Force browser reflow
    wheel.offsetHeight;
    
    const rotations = 5;
    // Determine if win (10% chance)
    const isWinner = Math.random() < 0.1;
    // Adjust final angle based on win/lose
    const finalAngle = 360 * rotations + (isWinner ? 355 : 175);
    
    wheel.style.transform = `rotate(${finalAngle}deg)`;
    
    setTimeout(() => {
        loserText.style.display = 'block';
        loserText.textContent = isWinner ? 'WINNER' : 'LOSER';
        loserText.style.color = isWinner ? '#2ecc71' : '#e74c3c';
        
        setTimeout(() => {
            wheelContainer.style.display = 'none';
        }, 5000);
    }, 3100);
}

// Audio control
let hasInteracted = false;
let isMuted = false;
const bgMusic = document.getElementById('background-music');
const muteButton = document.getElementById('mute-button');
const songs = [
    document.getElementById('background-music'),
    document.getElementById('song1'),
    document.getElementById('song2'),
    document.getElementById('song3'),
    document.getElementById('song4')
];

let currentSongIndex = 0;

// Try to play music immediately
bgMusic.play().catch(e => {
    // If autoplay failed, wait for first interaction
    document.addEventListener('click', () => {
        bgMusic.play().catch(e => console.log('Audio play failed:', e));
    }, { once: true });
});

muteButton.addEventListener('click', () => {
    isMuted = !isMuted;
    if (isMuted) {
        songs[currentSongIndex].pause();
        muteButton.textContent = '🔇';
    } else {
        songs[currentSongIndex].play().catch(e => console.log('Audio play failed:', e));
        muteButton.textContent = '🔊';
    }
});

document.getElementById('music-switch-button').addEventListener('click', () => {
    // Stop current song
    songs[currentSongIndex].pause();
    songs[currentSongIndex].currentTime = 0;
    
    // Pick next song randomly
    let nextIndex;
    do {
        nextIndex = Math.floor(Math.random() * songs.length);
    } while (nextIndex === currentSongIndex);
    
    currentSongIndex = nextIndex;
    
    // Play new song if not muted
    if (!isMuted) {
        songs[currentSongIndex].play().catch(e => console.log('Audio play failed:', e));
    }
});

// Add this line to the end of the existing script
createGrid();
createAlphabet();
createFakeAds();
createWheel();
</script>
</body></html>