<html><head><base href="/">
<link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
<style>
body {
    background: linear-gradient(120deg, #2c3e50, #2c3e50);
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    min-height: 100vh;
    margin: 0;
    padding: 20px;
}

.game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin-top: 50px;
    backdrop-filter: blur(10px);
    background: rgba(20, 20, 20, 0.9);
    padding: 2rem;
    border: 2px solid #gold;
    border-radius: 15px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    color: #fff;
}

h1 {
    color: #gold;
    font-family: 'Times New Roman', serif;
    font-size: 2.5rem;
    margin-bottom: 2rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    background: linear-gradient(45deg, #FFD700, #FFA500);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    position: relative;
}

h1::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, #3498db, transparent);
}

.grid {
    display: grid;
    grid-template-rows: repeat(6, 1fr);
    gap: 8px;
    margin-bottom: 30px;
    background: rgba(255,255,255,0.7);
    padding: 20px;
    border-radius: 10px;
}

.row {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
}

.tile {
    width: 60px;
    height: 60px;
    border: 2px solid #ccc;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.tile:empty {
    background: rgba(255,255,255,0.5);
}

.tile.correct {
    background-color: #6aaa64;
    color: white;
    border-color: #6aaa64;
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(106, 170, 100, 0.5);
}

.tile.wrong-position {
    background-color: #c9b458;
    color: white;
    border-color: #c9b458;
    transform: scale(1.05);
}

.tile.incorrect {
    background-color: #787c7e;
    color: white;
    border-color: #787c7e;
    transform: scale(1.05);
}

.tile:empty:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#guess-input {
    padding: 12px 20px;
    font-size: 18px;
    border: none;
    border-radius: 25px;
    margin-bottom: 15px;
    width: 200px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

button {
    padding: 12px 30px;
    font-size: 18px;
    background: linear-gradient(45deg, #4CAF50, #45a049);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
}

button:active {
    transform: translateY(2px);
}

.victory-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.victory-image {
    width: 100vw;
    height: 100vh;
    object-fit: contain;
    animation: zoomPulse 3s ease-in-out infinite;
}

@keyframes zoomPulse {
    0% { transform: scale(0.8); }
    50% { transform: scale(1.1); }
    100% { transform: scale(0.8); }
}

.winner-text {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 72px;
    color: #2ecc71;
    text-shadow: 0 0 10px rgba(46, 204, 113, 0.5);
    z-index: 1001;
    display: none;
    font-weight: bold;
    font-family: 'Impact', sans-serif;
}

@keyframes slideIn {
    to {
        right: 20px;
    }
}

.encouragement-popup {
    position: fixed;
    right: -300px;
    top: 50%;
    transform: translateY(-50%);
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    width: 250px;
    animation: slideIn 0.5s forwards;
    z-index: 999;
}

.encouragement-popup.fade-out {
    animation: slideOut 0.5s forwards;
}

@keyframes slideOut {
    from {
        right: 20px;
    }
    to {
        right: -300px;
    }
}

.stickman-container {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    height: 200px;
    width: 100px;
    z-index: 2;
}

.stickman-left {
    left: 20px;
}

.stickman-right {
    right: 20px;
}

.stickman {
    stroke: #ffffff;
    stroke-linecap: round;
    stroke-width: 4;
    fill: none;
    animation: dance var(--dance-speed, 1s) infinite alternate ease-in-out;
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
}

@keyframes dance {
    0% {
        transform: rotate(-5deg) translateY(0);
    }
    100% {
        transform: rotate(5deg) translateY(-10px);
    }
}

#try-again-btn {
    display: none;
    margin-top: 20px;
    background: #e74c3c;
}

#try-again-btn:hover {
    background: #c0392b;
}

.info-button {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #3498db;
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.restart-button {
    position: fixed;
    top: 80px;  
    right: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #e74c3c;  
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.restart-button:hover {
    transform: scale(1.1);
    background: #c0392b;
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 1002;
}

.modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 30px;
    border-radius: 15px;
    max-width: 500px;
    width: 90%;
}

.close-modal {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
    color: #666;
}

.modal-content h2 {
    color: #2c3e50;
    margin-bottom: 20px;
}

.modal-content p {
    color: #34495e;
    line-height: 1.6;
    margin-bottom: 15px;
}

.fake-ad {
    position: fixed;
    background: white;
    border: 2px solid #gold;
    border-radius: 10px;
    padding: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
    z-index: 1;
    animation: float 3s infinite ease-in-out;
}

.fake-ad img {
    width: 200px;
    height: 150px;
    object-fit: cover;
    border-radius: 5px;
}

.fake-ad-close {
    position: absolute;
    top: 5px;
    right: 5px;
    cursor: pointer;
    background: black;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.animated-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    opacity: 0.2;
}

.bg-gif {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.wheel-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 1005;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.wheel {
    width: 300px;
    height: 300px;
    position: relative;
    transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);
}

.wheel img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.wheel-section {
    position: absolute;
    width: 50%;
    height: 50%;
    transform-origin: 100% 100%;
    background: #2c3e50;
}

.wheel-section.win {
    background: #e74c3c;
    width: 10%;
}

.loser-text {
    display: none;
    font-size: 120px;
    font-weight: bold;
    text-shadow: 0 0 20px rgba(231, 76, 60, 0.8);
    animation: pulse 0.5s infinite alternate;
    font-family: 'Impact', sans-serif;
    margin-top: 30px;
}

@keyframes pulse {
    from { transform: scale(1); }
    to { transform: scale(1.1); }
}

.pointing-arrow {
    position: fixed;
    top: 70px;
    right: 70px;
    width: 100px;
    height: 100px;
    transform: rotate(-45deg);
    z-index: 1000;
    animation: pulse 1s infinite;
    pointer-events: none;
}

.pointing-arrow::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 30px;
    background: red;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
}

@keyframes pulse {
    0% { transform: rotate(-45deg) scale(1); }
    50% { transform: rotate(-45deg) scale(1.2); }
}

.mute-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.mute-button:hover {
    transform: scale(1.1);
}

.music-switch-button {
    position: fixed;
    bottom: 20px;
    right: 80px; 
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.music-switch-button:hover {
    transform: scale(1.1);
}

.custom-song-button {
    position: fixed;
    bottom: 20px;
    right: 140px; 
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.7);
    color: white;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 1001;
}

.custom-song-button:hover {
    transform: scale(1.1);
}

.reviews-container {
    position: fixed;
    bottom: 20px;
    left: 20px;
    width: 250px;
    height: 150px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    padding: 15px;
    overflow: hidden;
    z-index: 1000;
}

.reviews-scroll {
    animation: scrollUp 20s linear infinite;
}

.review {
    color: white;
    margin-bottom: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 14px;
}

.review-author {
    color: #ffd700;
    font-style: italic;
    font-size: 12px;
    margin-top: 5px;
}

@keyframes scrollUp {
    0% {
        transform: translateY(100%);
    }
    100% {
        transform: translateY(-100%);
    }
}

.alphabet-container {
    position: static;  
    margin: 0 auto 20px auto;  
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
    width: fit-content;
}

.letter-grid {
    display: grid;
    grid-template-rows: repeat(3, 1fr);
    gap: 10px;
}

.keyboard-row {
    display: flex;
    justify-content: center;
    gap: 8px;
}

.alphabet-letter {
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(255,255,255,0.2);
    border-radius: 6px;
    color: white;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.alphabet-letter.correct {
    background: #6aaa64;
    color: white;
}

.alphabet-letter.incorrect {
    background: #787c7e;
    color: white;
    text-decoration: line-through;
}

.demotyvacija {
    position: fixed;
    top: 50%;
    right: -400px; /* Start offscreen */
    transform: translateY(-50%);
    transition: all 1s ease-in-out;
    z-index: 1000;
}

.demotyvacija.show {
    right: 100px; /* Move to where right stickman is */
}

.demotyvacija img {
    max-width: 400px;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

.scary-mode-switch {
  position: fixed;
  top: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 1010;
}

.scary-text {
  font-family: 'Creepster', cursive;
  color: #ff0000;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  font-size: 24px;
}

.scary-switch {
  width: 60px;
  height: 30px;
  border-radius: 15px;
  background: #666;
  position: relative;
  cursor: pointer;
  transition: 0.3s;
}

.scary-switch.active {
  background: #ff0000;
}

.scary-switch::after {
  content: '';
  position: absolute;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: white;
  top: 2px;
  left: 2px;
  transition: 0.3s;
}

.scary-switch.active::after {
  left: 32px;
}

.emoji-mode-switch {
  position: fixed;
  top: 20px;
  left: 200px; /* Position it after scary mode switch */
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 1010;
}

.emoji-text {
  font-family: 'Comic Sans MS', cursive;
  font-weight: bold;
  font-size: 28px;
  background: linear-gradient(45deg, #ff0099, #00ff99);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
}

.emoji-switch {
  width: 60px;
  height: 30px;
  border-radius: 15px;
  background: #666;
  position: relative;
  cursor: pointer;
  transition: 0.3s;
}

.emoji-switch.active {
  background: #2ecc71;
}

.emoji-switch::after {
  content: '';
  position: absolute;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: white;
  top: 2px;
  left: 2px;
  transition: 0.3s;
}

.emoji-switch.active::after {
  left: 32px;
}

.copyright {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  color: #666;
  font-size: 12px;
  text-align: center;
  z-index: 1000;
}

.gamble-timer {
    display: none;
}

.mines-container {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.95);
    padding: 20px;
    border-radius: 15px;
    z-index: 1010;
}

.mines-title {
    text-align: center;
    font-size: 32px;
    color: #ff0000;
    margin-bottom: 20px;
    text-shadow: 0 0 10px rgba(255,0,0,0.5);
}

.mines-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
}

.mine-cell {
    width: 60px;
    height: 60px;
    background: #2c3e50;
    border: 2px solid #34495e;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    cursor: pointer;
    transition: all 0.3s;
}

.mine-cell:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px rgba(255,255,255,0.2);
}

.mines-close {
    position: absolute;
    top: 10px;
    right: 10px;
    color: white;
    font-size: 24px;
    cursor: pointer;
}

.gamble-button {
    position: fixed;
    top: 80px;
    left: 20px;
    padding: 10px 20px;
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    z-index: 1010;
    transition: all 0.3s;
}

.gamble-button:hover {
    transform: scale(1.1);
    background: #c0392b;
}

.phone-image {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 80%;
    max-height: 80vh;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    z-index: 1015;
}

.phone-image.show {
    opacity: 1;
}

.fix-phone-button {
    position: fixed;
    top: 140px;
    left: 20px;
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    z-index: 1010;
    transition: all 0.3s;
}

.fix-phone-button:hover {
    transform: scale(1.1);
    background: #2980b9;
}

.kill-people-button {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 10px 20px;
    background: #c0392b;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    z-index: 1010;
    transition: all 0.3s;
}

.kill-people-button:hover {
    transform: translateX(-50%) scale(1.1);
    background: #a93226;
}

.confirmation-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0,0,0,0.9);
    padding: 20px;
    border-radius: 10px;
    color: white;
    text-align: center;
    z-index: 1020;
    display: none;
}

.confirmation-buttons {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 10px;
}

.confirmation-buttons button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.yes-button {
    background: #c0392b;
}

.no-button {
    background: #7f8c8d;
}

.raining-baba {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    animation: babaRain 3s linear;
}

@keyframes babaRain {
    0% {
        transform: translateY(-100vh) rotate(0deg);
    }
    100% {
        transform: translateY(100vh) rotate(360deg);
    }
}

.smiche {
    position: fixed;
    width: 100px;
    height: 100px;
    animation: drop 1s ease-in, bounce 1s infinite ease-in-out;
    animation-delay: 0s, 1s;
    pointer-events: none;
    z-index: 1000;
}

@keyframes drop {
    0% {
        top: -100px;
    }
    100% {
        top: calc(100vh - 100px);
    }
}

@keyframes bounce {
    0%, 100% {
        top: calc(100vh - 100px);
        animation-timing-function: ease-out;
    }
    50% {
        top: calc(100vh - 200px);
        animation-timing-function: ease-in;
    }
}

.bleeding {
    animation: bleed 1s ease-out forwards;
    pointer-events: none;
}

@keyframes bleed {
    0% {
        box-shadow: 0 0 0 0px rgba(255,0,0,0.8);
        opacity: 1;
    }
    100% {
        box-shadow: 0 0 0 20px rgba(255,0,0,0);
        opacity: 0;
        transform: scale(0.9);
    }
}

.crosshair-cursor {
    cursor: crosshair !important;
}

.horse-button {
    position: fixed;
    top: 320px;  /* Below the shoot button */
    left: 20px;
    padding: 10px 20px;
    background: #8e44ad;  /* Purple color */
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 18px;
    z-index: 1010;
    transition: all 0.3s;
}

.horse-button:hover {
    transform: scale(1.1);
    background: #6c3483;
}

.horse {
    position: fixed;
    width: 100px;
    height: 100px;
    pointer-events: none;
    z-index: 1000;
    transition: all 1s ease-in-out;
}

@keyframes horseMitosis {
    0% { transform: scale(1); }
    50% { transform: scale(1.5) rotate(180deg); }
    100% { transform: scale(1) rotate(360deg); }
}

/* Update death mode switch positioning */
.death-mode-switch {
    position: fixed;
    top: 20px;
    left: 600px; /* Increased from 400px to 600px to move further right */
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 1010;
}

.death-text {
    font-family: 'Creepster', cursive;
    font-size: 32px;
    color: #ff0000;
    text-shadow: 
        0 0 10px #ff0000,
        0 0 20px #ff0000,
        0 0 30px #ff0000;
    animation: pulse 1s infinite;
}

.death-switch {
    width: 60px;
    height: 30px;
    border-radius: 15px;
    background: #666;
    position: relative;
    cursor: pointer;
    transition: 0.3s;
}

.death-switch.active {
    background: #ff0000;
    box-shadow: 0 0 20px #ff0000;
}

.death-switch::after {
    content: '';
    position: absolute;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: white;
    top: 2px;
    left: 2px;
    transition: 0.3s;
}

.death-switch.active::after {
    left: 32px;
}

@keyframes pulse {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
}
</style>
</head>
<body>
<div class="animated-background">
    <img src="gam.gif" alt="Animated background gif 1" class="bg-gif">
    <img src="gifp.gif" alt="Animated background gif 2" class="bg-gif">
    <img src="gifp.gif" alt="Animated background gif 3" class="bg-gif">
    <img src="gam.gif" alt="Animated background gif 4" class="bg-gif">
</div>
<div class="stickman-container stickman-left">
    <svg class="stickman" viewBox="0 0 100 200">
        <circle cx="50" cy="30" r="20"/>
        <line x1="50" y1="50" x2="50" y2="120"/>
        <line x1="50" y1="120" x2="20" y2="160"/>
        <line x1="50" y1="120" x2="80" y2="160"/>
        <line x1="50" y1="70" x2="20" y2="90"/>
        <line x1="50" y1="70" x2="80" y2="90"/>
    </svg>
</div>

<div class="game-container">
    <h1>Domo Palubinsko Wordle</h1>
    <div class="grid" id="grid"></div>
    <div class="alphabet-container">
        <div class="letter-grid">
            <!-- Will be populated by JavaScript -->
        </div>
    </div>
    <input type="text" id="guess-input" maxlength="5" placeholder="Enter your guess">
    <button onclick="makeGuess()">Guess</button>
    <button id="try-again-btn" onclick="resetGame()">Try Again</button>
    <button class="restart-button" onclick="resetGame()">üîÑ</button>
    <button class="kill-people-button">üî™ Kill People</button>
    <input type="file" id="custom-song-input" accept="audio/mp3" style="display: none;">
    <button class="custom-song-button" id="custom-song-button">üìé</button>
    
    <div class="confirmation-modal">
        <p>Are you sure you want to do this? This cannot be undone</p>
        <div class="confirmation-buttons">
            <button class="yes-button">Yes</button>
            <button class="no-button">No</button>
        </div>
    </div>
    <audio id="yaySound" src="Yay.mp3"></audio>
</div>

<div class="stickman-container stickman-right">
    <svg class="stickman" viewBox="0 0 100 200">
        <circle cx="50" cy="30" r="20"/>
        <line x1="50" y1="50" x2="50" y2="120"/>
        <line x1="50" y1="120" x2="20" y2="160"/>
        <line x1="50" y1="120" x2="80" y2="160"/>
        <line x1="50" y1="70" x2="20" y2="90"/>
        <line x1="50" y1="70" x2="80" y2="90"/>
    </svg>
</div>

<div class="victory-overlay" id="victory-overlay">
    <img src="Screenshot_2306.png" alt="Victory celebration meme image" class="victory-image" width="800" height="600">
</div>

<audio id="victory-audio" src="Gimtadieno daina.mp3"></audio>
<audio id="background-music" src="muzika.mp3" loop></audio>
<audio id="song1" src="1.mp3" loop></audio>
<audio id="song2" src="2.mp3" loop></audio>
<audio id="song3" src="3.mp3" loop></audio>
<audio id="song4" src="4.mp3" loop></audio>
<audio id="vineBoom" src="VINE.mp3"></audio>
<button class="mute-button" id="mute-button">üîä</button>
<button class="music-switch-button" id="music-switch-button">üéµ</button>

<div class="scary-mode-switch">
  <div class="scary-text">Scary Mode</div>
  <div class="scary-switch"></div>
</div>

<div class="emoji-mode-switch">
  <div class="emoji-text">Emoji Mode üé≠</div>
  <div class="emoji-switch"></div>
</div>

<!-- Add this after the emoji mode switch -->
<div class="death-mode-switch">
    <div class="death-text">YOU WILL DIE</div>
    <div class="death-switch"></div>
</div>

<img src="scary.jpg" alt="Scary face" class="scary-image" style="display:none;">

<div class="copyright">
  ¬© 2024 UAB "Domas Palubinskas Casino" | <a href="https://ImForcas.github.io">ImForcas.github.io</a>
</div>

<span class="gamble-timer"></span>

<button class="info-button" onclick="showInfo()">i</button>

<div class="modal" id="info-modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeInfo()">&times;</span>
        <h2>How to Play</h2>
        <p>Try to guess the word in 6 tries. Each guess must be a 5-letter word.</p>
        <p>After each guess, the color of the tiles will change:</p>
        <p>- Green: Letter is in the correct spot<br>
        - Yellow: Letter is in the word but in the wrong spot<br>
        - Gray: Letter is not in the word</p>
        <p>Note: Words can be in Lithuanian but will not contain Lithuanian letters (ƒÖ, ƒô, ƒó, ƒØ, ≈°, ≈≥, ≈´, ƒç, ≈æ).</p>
    </div>
</div>

<div class="reviews-container">
    <div class="reviews-scroll">
        <div class="review">
            "Geriausias ≈æaidimas kurƒØ esu matƒôs!"
            <div class="review-author">- Jonukas i≈° Kauno</div>
        </div>
        <div class="review">
            "NeƒØmanoma sustoti ≈æaisti, priklausomybƒô sukelia!"
            <div class="review-author">- Petras i≈° Vilniaus</div>
        </div>
        <div class="review">
            "Labai linksmas ≈æaidimas, rekomenduoju visiems!"
            <div class="review-author">- Marytƒó i≈° Klaipƒódos</div>
        </div>
        <div class="review">
            "Praleidau visa vakara spƒóliodamas ≈æod≈æius xDD"
            <div class="review-author">- Tomas i≈° ≈†iauli≈≥</div>
        </div>
        <div class="review">
            "Pagaliau lietuvi≈°kas Wordle! Super!"
            <div class="review-author">- R≈´ta i≈° Panevƒó≈æio</div>
        </div>
    </div>
</div>

<script>
let isMuted = false;  // Track mute state
const muteButton = document.getElementById('mute-button'); // Added definition
let songs = [
    document.getElementById('background-music'),
    document.getElementById('song1'),
    document.getElementById('song2'), 
    document.getElementById('song3'),
    document.getElementById('song4')
];

let customSong = null;

const WORDS = ["BALLS", "BOOBS", "PENIS", "JONAS", "FARTS", "GOOFY", "SILLY", "BONER", "DOMAS", "LMFAO", "JOKER", "DUONA", "PENER", "LABAS", "FUNNY", "SILKE", "TICHE", "STINK", "BURGE", "PIZDA", "KURVA", "SYSIU", "LINUX", "ROKAS", "KAZYS", "MANGO", "AKMUO", "LOPAS", "ZAZAS", "DUPCE", "SUDAS", "KAKIS", "LOOOL", "SIGMA"];
const VICTORY_IMAGES = [
    "Screenshot_2306.png",
    "2dmfz0.jpg",
    "20230315_212946.jpg", 
    "abcs.png",
    "coton.yeti-20082024-0002.jpg",
    "GbXj-ZJXcAIewa9.png",
    "IMG_20230315_204123.jpg",
    "Screenshot_2024-03-30_121058.png",
    "Snapchat-409393994.jpg",
    "SPOIR_unknown.png",
    "ugha.gif"
];
let WORD = WORDS[Math.floor(Math.random() * WORDS.length)];
let currentRow = 0;
const MAX_TRIES = 6;

// Track currently playing background song
let currentBackgroundSong = null;

// Function to play random background song
function playRandomBackgroundSong() {
    const availableSongs = [...songs];
    if (customSong) {
        availableSongs.push(customSong);
    }
    
    // Stop current song if playing
    if (currentBackgroundSong) {
        currentBackgroundSong.pause();
        currentBackgroundSong.currentTime = 0;
    }
    
    // Pick and play random song
    currentBackgroundSong = availableSongs[Math.floor(Math.random() * availableSongs.length)];
    if (!isMuted) {
        currentBackgroundSong.play();
    }
}

function toggleMute() {
    isMuted = !isMuted;
    muteButton.textContent = isMuted ? 'üîá' : 'üîä';
    
    songs.forEach(song => {
        song.muted = isMuted;
    });
    
    if (customSong) {
        customSong.muted = isMuted;
    }
    
    // Also mute the vine boom sound
    document.getElementById('vineBoom').muted = isMuted;
}

// Add event listener for mute button
muteButton.addEventListener('click', toggleMute);

// Modify the music switch button click handler
document.getElementById('music-switch-button').addEventListener('click', () => {
    playRandomBackgroundSong();
});

// Add the setupCustomSongUpload function
function setupCustomSongUpload() {
    const customSongButton = document.getElementById('custom-song-button');
    const customSongInput = document.getElementById('custom-song-input');

    customSongButton.addEventListener('click', () => {
        customSongInput.click();
    });

    customSongInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            const url = URL.createObjectURL(file);
            if (customSong) {
                customSong.pause();
                URL.revokeObjectURL(customSong.src);
            }
            customSong = new Audio(url);
            customSong.loop = true;
            customSong.muted = isMuted;
            
            // Play the custom song immediately
            if (currentBackgroundSong) {
                currentBackgroundSong.pause();
                currentBackgroundSong.currentTime = 0;
            }
            currentBackgroundSong = customSong;
            if (!isMuted) {
                currentBackgroundSong.play();
            }
        }
    });
}

// Add this line to the end of the script
setupCustomSongUpload();

const encouragements = [
    "You're getting closer!",
    "Nice try! Keep going!",
    "That's a creative guess!",
    "You've got this!",
    "Almost there!",
    "Don't give up!"
];

let usedLetters = new Set();
let correctLetters = new Set();

function showEncouragement() {
    const popup = document.createElement('div');
    popup.className = 'encouragement-popup';
    popup.textContent = encouragements[Math.floor(Math.random() * encouragements.length)];
    document.body.appendChild(popup);

    setTimeout(() => {
        popup.classList.add('fade-out');
        setTimeout(() => {
            document.body.removeChild(popup);
        }, 500);
    }, 2000);
}

function createGrid() {
    const grid = document.getElementById('grid');
    for (let i = 0; i < MAX_TRIES; i++) {
        const row = document.createElement('div');
        row.className = 'row';
        for (let j = 0; j < 5; j++) {
            const tile = document.createElement('div');
            tile.className = 'tile';
            row.appendChild(tile);
        }
        grid.appendChild(row);
    }
    const arrow = document.createElement('div');
    arrow.className = 'pointing-arrow';
    document.body.appendChild(arrow);

    setTimeout(() => {
        arrow.style.opacity = '0';
        setTimeout(() => arrow.remove(), 1000);
    }, 3000);
}

function createAlphabet() {
    const letterGrid = document.querySelector('.letter-grid');
    letterGrid.innerHTML = ''; // Clear existing content
    
    // Define keyboard layout rows
    const keyboardRows = [
        'QWERTYUIOP',
        'ASDFGHJKL',
        'ZXCVBNM'
    ];
    
    keyboardRows.forEach(row => {
        const rowDiv = document.createElement('div');
        rowDiv.className = 'keyboard-row';
        
        row.split('').forEach(letter => {
            const letterDiv = document.createElement('div');
            letterDiv.className = 'alphabet-letter';
            letterDiv.dataset.letter = letter;
            letterDiv.textContent = letter;
            rowDiv.appendChild(letterDiv);
        });
        
        letterGrid.appendChild(rowDiv);
    });
}

function resetGame() {
    currentRow = 0;
    WORD = WORDS[Math.floor(Math.random() * WORDS.length)];
    const grid = document.getElementById('grid');
    grid.innerHTML = '';
    createGrid();
    usedLetters = new Set();
    correctLetters = new Set();
    document.querySelectorAll('.alphabet-letter').forEach(letterDiv => {
        letterDiv.classList.remove('used', 'correct', 'incorrect');
    });
    document.getElementById('try-again-btn').style.display = 'none';
    document.getElementById('guess-input').value = '';
    document.getElementById('guess-input').disabled = false;
    document.getElementById('victory-overlay').style.display = 'none';
    document.querySelector('.info-button').style.display = 'block'; 
    const audio = document.getElementById('victory-audio');
    audio.pause();
    audio.currentTime = 0;
    document.querySelector('.reviews-container').style.display = 'block';
    
    // Make sure restart button stays visible
    document.querySelector('.restart-button').style.display = 'flex';

    // Remove winner elements if they exist
    const winnerText = document.querySelector('.winner-text');
    if (winnerText) winnerText.remove();
    
    const playAgainBtn = document.querySelector('button[style*="zIndex: 1001"]');
    if (playAgainBtn) playAgainBtn.remove();

    // Reset dance speed
    document.documentElement.style.setProperty('--dance-speed', '1s');
}

let isScaryMode = false;

function toggleScaryMode() {
  isScaryMode = !isScaryMode;
  document.querySelector('.scary-switch').classList.toggle('active');
  
  // Update stickmen
  document.querySelectorAll('.stickman').forEach(stickman => {
    if (isScaryMode) {
      stickman.style.backgroundImage = "url('scary.jpg')";
      stickman.style.backgroundSize = 'contain';
    } else {
      stickman.style.backgroundImage = 'none';
    }
  });

  // Update tiles
  document.querySelectorAll('.tile:empty').forEach(tile => {
    tile.style.backgroundImage = isScaryMode ? "url('scary.jpg')" : 'none';
    tile.style.backgroundSize = 'cover';
  });
}

const emojis = [
  'üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá', 'üôÇ', 'üôÉ', 'üòâ', 'üòå', 'üòç', 
  'ü•∞', 'üòò', 'üòó', 'üòô', 'üòö', 'üòã', 'üòõ', 'üòù', 'üòú', 'ü§™', 'ü§®', 'üßê', 'ü§ì', 'üòé',
  'ü§©', 'ü•≥', 'üòè', 'üòí', 'üòû', 'üòî', 'üòü', 'üòï', 'üôÅ', '‚òπÔ∏è', 'üò£', 'üòñ', 'üò´', 'üò©',
  'ü•∫', 'üò¢', 'üò≠', 'üò§', 'üò†', 'üò°', 'ü§¨', 'ü§Ø', 'üò≥', 'ü•µ', 'ü•∂', 'üò±', 'üò®', 'üò∞'
];

let emojiMode = false;
const originalTexts = new Map();

function getRandomEmoji() {
  return emojis[Math.floor(Math.random() * emojis.length)];
}

function toggleEmojiMode() {
  emojiMode = !emojiMode;
  document.querySelector('.emoji-switch').classList.toggle('active');
  
  // Get all text nodes
  const walker = document.createTreeWalker(
    document.body,
    NodeFilter.SHOW_TEXT,
    {
      acceptNode: function(node) {
        // Skip scripts and styles
        if (node.parentElement?.tagName === 'SCRIPT' || 
            node.parentElement?.tagName === 'STYLE') {
          return NodeFilter.FILTER_REJECT;
        }
        return NodeFilter.FILTER_ACCEPT;
      }
    }
  );

  const textNodes = [];
  let node;
  while (node = walker.nextNode()) {
    textNodes.push(node);
  }

  textNodes.forEach(node => {
    if (emojiMode) {
      // Store original text if not already stored
      if (!originalTexts.has(node)) {
        originalTexts.set(node, node.textContent);
      }
      // Replace each character with random emoji
      node.textContent = Array.from(node.textContent)
        .map(char => char.trim() ? getRandomEmoji() : char)
        .join('');
    } else {
      // Restore original text
      if (originalTexts.has(node)) {
        node.textContent = originalTexts.get(node);
      }
    }
  });
}

// Add event listener for emoji switch
document.querySelector('.emoji-switch').addEventListener('click', toggleEmojiMode);

// Modify text update functions to handle emoji mode
const originalUpdateLetterStatuses = updateLetterStatuses;
updateLetterStatuses = function(guess) {
  originalUpdateLetterStatuses(guess);
  if (emojiMode) {
    document.querySelectorAll('.alphabet-letter').forEach(letter => {
      if (letter.textContent.length === 1) { // Only replace single characters
        letter.textContent = getRandomEmoji();
      }
    });
  }
};

function updateLetterStatuses(guess) {
    guess.split('').forEach((letter, index) => {
        const letterDiv = document.querySelector(`.alphabet-letter[data-letter="${letter}"]`);
        if (!letterDiv) return;
        
        if (WORD[index] === letter) {
            letterDiv.classList.remove('incorrect');
            letterDiv.classList.add('correct');
        } else if (WORD.includes(letter)) {
            letterDiv.classList.remove('incorrect');
            letterDiv.classList.add('correct');
        } else {
            letterDiv.classList.add('incorrect');
        }
    });
}

let inactivityTimer;

function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    inactivityTimer = setTimeout(showDemotyvacija, 30000);
}

function showDemotyvacija() {
    const demotyvacija = document.createElement('div');
    demotyvacija.className = 'demotyvacija';
    demotyvacija.innerHTML = '<img src="demotyvacija.jpg" alt="Demotyvacija" width="400">';
    document.body.appendChild(demotyvacija);
    
    setTimeout(() => {
        demotyvacija.classList.add('show');
        setTimeout(() => {
            demotyvacija.classList.remove('show');
            setTimeout(() => {
                document.body.removeChild(demotyvacija);
                resetInactivityTimer();
            }, 1000);
        }, 5000);
    }, 100);
}

// Add event listeners
document.getElementById('guess-input').addEventListener('input', resetInactivityTimer);
document.addEventListener('keydown', resetInactivityTimer);
document.addEventListener('click', resetInactivityTimer);
document.querySelector('.scary-switch').addEventListener('click', toggleScaryMode);

// Start first interaction setup
function setupFirstInteraction() {
    const firstInteractionHandler = () => {
        playRandomBackgroundSong();
        document.removeEventListener('click', firstInteractionHandler);
        document.removeEventListener('keydown', firstInteractionHandler);
    };

    document.addEventListener('click', firstInteractionHandler);
    document.addEventListener('keydown', firstInteractionHandler);
}

document.addEventListener('DOMContentLoaded', setupFirstInteraction);

// Add this to the JavaScript section
let deathMode = false;
let colorInterval;

function getRandomColor() {
    return '#' + Math.floor(Math.random()*16777215).toString(16);
}

function toggleDeathMode() {
    deathMode = !deathMode;
    document.querySelector('.death-switch').classList.toggle('active');
    
    if (deathMode) {
        // Start color changing interval when mode is turned on
        colorInterval = setInterval(() => {
            // Change colors of all major elements
            document.querySelectorAll('img, button, .tile, .alphabet-letter, .game-container, .modal-content, .fake-ad, h1, p, div').forEach(element => {
                element.style.transition = 'none'; // Disable transitions for smoother color changes
                
                // Randomize different color properties
                element.style.backgroundColor = getRandomColor();
                element.style.color = getRandomColor();
                element.style.borderColor = getRandomColor();
                
                if (element.style.backgroundImage) {
                    element.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                }
            });
        }, 100);
    } else {
        // Just stop the interval when turned off, preserving current colors
        clearInterval(colorInterval);
    }
}

// Add event listener for death switch
document.querySelector('.death-switch').addEventListener('click', toggleDeathMode);

function makeGuess() {
    const input = document.getElementById('guess-input');
    const guess = input.value.toUpperCase();
    
    if (guess.length !== 5) {
        alert("Please enter a 5-letter word!");
        return;
    }

    const row = document.getElementsByClassName('row')[currentRow];
    const tiles = row.children;
    
    let remainingWord = WORD.split('');
    let remainingGuess = guess.split('');
    const tileStatuses = new Array(5).fill('incorrect');

    for (let i = 0; i < 5; i++) {
        tiles[i].textContent = guess[i];
        if (guess[i] === WORD[i]) {
            tileStatuses[i] = 'correct';
            remainingWord[i] = null;
            remainingGuess[i] = null;
        }
    }

    for (let i = 0; i < 5; i++) {
        if (remainingGuess[i] !== null) {
            const wordIndex = remainingWord.indexOf(remainingGuess[i]);
            if (wordIndex !== -1) {
                tileStatuses[i] = 'wrong-position';
                remainingWord[wordIndex] = null;
            }
        }
    }

    for (let i = 0; i < 5; i++) {
        tiles[i].className = `tile ${tileStatuses[i]}`;
    }

    updateLetterStatuses(guess);

    if (guess === WORD) {
        const overlay = document.getElementById('victory-overlay');
        overlay.style.display = 'flex';
        
        // Set random victory image
        const randomImage = VICTORY_IMAGES[Math.floor(Math.random() * VICTORY_IMAGES.length)];
        document.querySelector('.victory-image').src = randomImage;
        
        const audio = document.getElementById('victory-audio');
        audio.play();
        audio.loop = true;
        document.querySelector('.info-button').style.display = 'none'; 
        
        // Mute ALL songs on victory
        songs.forEach(song => {
            song.pause();
            song.currentTime = 0;
        });
        
        muteButton.textContent = 'üîá';  // Changed to use muteButton variable
        isMuted = true;
        document.querySelector('.reviews-container').style.display = 'none';

        // Show WINNER text after 5 seconds
        setTimeout(() => {
            const winnerText = document.createElement('div');
            winnerText.className = 'winner-text';
            winnerText.textContent = 'WINNER';
            document.body.appendChild(winnerText);
            winnerText.style.display = 'block';
            
            // Show Play Again button after another 5 seconds
            setTimeout(() => {
                const playAgainBtn = document.createElement('button');
                playAgainBtn.textContent = 'Play Again';
                playAgainBtn.style.position = 'fixed';
                playAgainBtn.style.top = '70%';
                playAgainBtn.style.left = '50%';
                playAgainBtn.style.transform = 'translate(-50%, -50%)';
                playAgainBtn.style.zIndex = '1001';
                playAgainBtn.style.padding = '15px 30px';
                playAgainBtn.style.fontSize = '24px';
                playAgainBtn.style.background = '#2ecc71';
                playAgainBtn.style.cursor = 'pointer';
                playAgainBtn.onclick = () => {
                    document.body.removeChild(winnerText);
                    document.body.removeChild(playAgainBtn);
                    resetGame();
                };
                document.body.appendChild(playAgainBtn);
            }, 5000);
        }, 5000);
    } else {
        showEncouragement();
        if (currentRow === MAX_TRIES - 1) {
            alert("Nice try!");
            document.getElementById('try-again-btn').style.display = 'block';
            document.getElementById('guess-input').disabled = true;
        }
    }

    currentRow++;

    // After processing the guess, increase dance speed
    const currentSpeed = parseFloat(document.documentElement.style.getPropertyValue('--dance-speed') || '1s');
    const newSpeed = Math.max(0.3, currentSpeed - 0.1); // Don't go faster than 0.3s
    document.documentElement.style.setProperty('--dance-speed', `${newSpeed}s`);

    input.value = '';

    if (currentRow > 0) {
        setTimeout(showNextAd, 1000); // Show ad 1 second after guess
    }
}

document.getElementById('guess-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        makeGuess();
    }
});

function showInfo() {
    document.getElementById('info-modal').style.display = 'block';
}

function closeInfo() {
    document.getElementById('info-modal').style.display = 'none';
}

window.onclick = function(event) {
    const modal = document.getElementById('info-modal');
    if (event.target == modal) {
        modal.style.display = 'none';
    }
}

function createFakeAds() {
    const adImages = ['pop.png', 'pop2.jpg', 'pop3.jpg', 'pop4.png', 'kelnes.jpg'];
    const positions = [
        {top: '20%', left: '20%'},
        {top: '30%', right: '20%'},
        {bottom: '20%', left: '30%'},
        {bottom: '30%', right: '30%'},
        {top: '40%', left: '40%'}
    ];
    
    // Shuffle the ads array for random order
    window.pendingAds = adImages
        .map((img, index) => ({img, position: positions[index]}))
        .sort(() => Math.random() - 0.5);
}

function showNextAd() {
    if (window.pendingAds && window.pendingAds.length > 0) {
        const adData = window.pendingAds.shift();
        const ad = document.createElement('div');
        ad.className = 'fake-ad';
        Object.assign(ad.style, adData.position);
        
        ad.innerHTML = `
            <span class="fake-ad-close">√ó</span>
            <img src="${adData.img}" alt="Advertisement" width="200" height="150">
        `;
        
        if (isScaryMode) {
            ad.classList.add('scary-mode');
        }
        
        document.body.appendChild(ad);
        
        ad.querySelector('.fake-ad-close').onclick = () => {
            ad.style.display = 'none';
        };
    }
}

// Gamble game functions
function createMinesGame() {
    const container = document.createElement('div');
    container.className = 'mines-container';
    
    const title = document.createElement('div');
    title.className = 'mines-title';
    title.textContent = 'üí£MINESüí£';
    
    const closeBtn = document.createElement('div');
    closeBtn.className = 'mines-close';
    closeBtn.textContent = '√ó';
    closeBtn.onclick = () => container.style.display = 'none';
    
    const grid = document.createElement('div');
    grid.className = 'mines-grid';
    
    for (let i = 0; i < 25; i++) {
        const cell = document.createElement('div');
        cell.className = 'mine-cell';
        cell.onclick = function() {
            if (!this.textContent) {
                this.textContent = 'üí£';
                vineBoom.currentTime = 0;
                vineBoom.play();
                // Reveal all other cells with money
                document.querySelectorAll('.mine-cell').forEach(c => {
                    if (c !== this && !c.textContent) {
                        c.textContent = 'üíµ';
                    }
                });
                // Disable all cells
                document.querySelectorAll('.mine-cell').forEach(c => {
                    c.style.cursor = 'default';
                    c.onclick = null;
                });
            }
        };
        grid.appendChild(cell);
    }
    
    container.appendChild(title);
    container.appendChild(closeBtn);
    container.appendChild(grid);
    document.body.appendChild(container);
    
    // Add gamble button
    const gambleBtn = document.createElement('button');
    gambleBtn.className = 'gamble-button';
    gambleBtn.textContent = 'üé∞ Gamble';
    gambleBtn.onclick = () => {
        container.style.display = 'block';
        // Reset grid
        document.querySelectorAll('.mine-cell').forEach(cell => {
            cell.textContent = '';
            cell.style.cursor = 'pointer';
            cell.onclick = function() {
                if (!this.textContent) {
                    this.textContent = 'üí£';
                    vineBoom.currentTime = 0;
                    vineBoom.play();
                    document.querySelectorAll('.mine-cell').forEach(c => {
                        if (c !== this && !c.textContent) {
                            c.textContent = 'üíµ';
                        }
                    });
                    document.querySelectorAll('.mine-cell').forEach(c => {
                        c.style.cursor = 'default';
                        c.onclick = null;
                    });
                }
            };
        });
    };
    document.body.appendChild(gambleBtn);
}

// Added phone button functionality
function showFixedPhone() {
    const phoneImg = document.createElement('img');
    phoneImg.src = 'phone.png';
    phoneImg.alt = 'Fixed phone';
    phoneImg.className = 'phone-image';
    document.body.appendChild(phoneImg);
    
    // Force reflow
    phoneImg.offsetHeight;
    
    // Show image
    requestAnimationFrame(() => {
        phoneImg.classList.add('show');
    });
    
    // Remove after 5 seconds
    setTimeout(() => {
        phoneImg.classList.remove('show');
        setTimeout(() => {
            document.body.removeChild(phoneImg);
        }, 500);
    }, 5000);
}

// Add the button creation for fixing phone
const fixPhoneBtn = document.createElement('button');
fixPhoneBtn.className = 'fix-phone-button';
fixPhoneBtn.textContent = 'üîß Fix Phone';
fixPhoneBtn.onclick = showFixedPhone;
document.body.appendChild(fixPhoneBtn);

// Initialize Kill People button
function initKillPeopleButton() {
    const killBtn = document.querySelector('.kill-people-button');
    const modal = document.querySelector('.confirmation-modal');
    const yesBtn = document.querySelector('.yes-button');
    const noBtn = document.querySelector('.no-button');

    killBtn.addEventListener('click', () => {
        modal.style.display = 'block';
    });

    noBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    yesBtn.addEventListener('click', () => {
        // Function to play yay sound with a new audio instance each time
        const playYay = () => {
            const yay = new Audio('Yay.mp3');
            yay.play();
        };

        // Replace all images, backgrounds, and UI elements with baba.png
        const replaceElements = () => {
            let delay = 0;
            const increment = 500; // Time between each replacement

            // Replace background images
            document.querySelectorAll('.bg-gif').forEach(gif => {
                setTimeout(() => {
                    gif.src = 'baba.png';
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace victory image
            setTimeout(() => {
                document.querySelector('.victory-image').src = 'baba.png';
                playYay();
            }, delay);
            delay += increment;

            // Replace all images
            document.querySelectorAll('img').forEach(img => {
                setTimeout(() => {
                    img.src = 'baba.png';
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace buttons with images
            document.querySelectorAll('button').forEach(button => {
                setTimeout(() => {
                    button.innerHTML = `<img src="baba.png" alt="baba" style="width: 100%; height: 100%; object-fit: contain;">`;
                    button.style.padding = '0';
                    button.style.overflow = 'hidden';
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace tiles
            document.querySelectorAll('.tile').forEach(tile => {
                setTimeout(() => {
                    tile.innerHTML = `<img src="baba.png" alt="baba" style="width: 100%; height: 100%; object-fit: contain;">`;
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace alphabet letters
            document.querySelectorAll('.alphabet-letter').forEach(letter => {
                setTimeout(() => {
                    letter.innerHTML = `<img src="baba.png" alt="baba" style="width: 100%; height: 100%; object-fit: contain;">`;
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace fake ads
            document.querySelectorAll('.fake-ad img').forEach(ad => {
                setTimeout(() => {
                    ad.src = 'baba.png';
                    playYay();
                }, delay);
                delay += increment;
            });

            // Replace background pattern
            setTimeout(() => {
                document.body.style.backgroundImage = "url('baba.png')";
                document.body.style.backgroundSize = 'cover';
                playYay();
            }, delay);

            // Replace any remaining text elements with the image
            const textElements = document.querySelectorAll('h1, p, span, div:not(.game-container):not(.grid)');
            textElements.forEach(elem => {
                if (elem.children.length === 0 && elem.textContent.trim()) {
                    setTimeout(() => {
                        const originalHeight = elem.offsetHeight;
                        elem.innerHTML = `<img src="baba.png" alt="baba" style="height: ${originalHeight}px; width: auto;">`;
                        playYay();
                    }, delay);
                    delay += increment;
                }
            });
        };

        replaceElements();

        // Create raining babas
        const createRainingBabas = () => {
            const spawnBaba = () => {
                const baba = document.createElement('img');
                baba.src = 'baba.png';
                baba.className = 'raining-baba';
                baba.style.left = Math.random() * window.innerWidth + 'px';
                baba.style.width = Math.random() * 30 + 20 + 'px'; // Random size between 20-50px
                baba.style.opacity = Math.random() * 0.5 + 0.5; // Random opacity
                document.body.appendChild(baba);

                // Remove the element after animation completes
                baba.addEventListener('animationend', () => {
                    document.body.removeChild(baba);
                });
            };

            // Spawn 100 babas over 10 seconds
            let count = 0;
            const interval = setInterval(() => {
                spawnBaba();
                count++;
                if (count >= 100) {
                    clearInterval(interval);
                }
            }, 100);
        };

        createRainingBabas();
        modal.style.display = 'none';
    });
}

// Call this at the end of the existing script
initKillPeopleButton();
createGrid();
createAlphabet();
createFakeAds();
createMinesGame();

const smicheBtn = document.createElement('button');
smicheBtn.className = 'smiche-button';
smicheBtn.textContent = 'üêü Smiche';
smicheBtn.style.position = 'fixed';
smicheBtn.style.top = '200px';  // Changed from 260px to 200px (above fix phone)
smicheBtn.style.left = '20px';
smicheBtn.style.padding = '10px 20px';
smicheBtn.style.background = '#9b59b6';  // Purple color
smicheBtn.style.color = 'white';
smicheBtn.style.border = 'none';
smicheBtn.style.borderRadius = '8px';
smicheBtn.style.cursor = 'pointer';
smicheBtn.style.fontSize = '18px';
smicheBtn.style.zIndex = '1010';
smicheBtn.style.transition = 'all 0.3s';

smicheBtn.addEventListener('mouseover', () => {
    smicheBtn.style.transform = 'scale(1.1)';
    smicheBtn.style.background = '#8e44ad';
});

smicheBtn.addEventListener('mouseout', () => {
    smicheBtn.style.transform = 'scale(1)';
    smicheBtn.style.background = '#9b59b6';
});

smicheBtn.onclick = () => {
    const smiche = document.createElement('img');
    smiche.className = 'smiche';
    smiche.src = 'smiche.gif';  // Note: This file needs to be available
    smiche.alt = 'Bouncing Smiche';
    smiche.style.left = Math.random() * (window.innerWidth - 100) + 'px';  // Random horizontal position
    document.body.appendChild(smiche);
};

// Create gun button
const gunBtn = document.createElement('button');
gunBtn.className = 'gun-button';
gunBtn.textContent = 'üî´ Shoot';
gunBtn.style.position = 'fixed';
gunBtn.style.top = '260px';  // Changed from 320px to 260px (below fix phone)
gunBtn.style.left = '20px';
gunBtn.style.padding = '10px 20px';
gunBtn.style.background = '#e74c3c';  // Red color
gunBtn.style.color = 'white';
gunBtn.style.border = 'none';
gunBtn.style.borderRadius = '8px';
gunBtn.style.cursor = 'pointer';
gunBtn.style.fontSize = '18px';
gunBtn.style.zIndex = '1010';
gunBtn.style.transition = 'all 0.3s';

let shootingMode = false;
const shootSound = new Audio('shot.mp3');

gunBtn.onclick = () => {
    shootingMode = !shootingMode;
    document.body.classList.toggle('crosshair-cursor');
    gunBtn.style.background = shootingMode ? '#c0392b' : '#e74c3c';
};

// Add click handler for shooting
document.addEventListener('click', (e) => {
    if (shootingMode && e.target !== gunBtn) {
        shootSound.currentTime = 0;
        shootSound.play();
        
        const target = e.target;
        target.classList.add('bleeding');
        
        // If the target is a button or interactive element,
        // disable its functionality
        if (target.tagName === 'BUTTON') {
            target.disabled = true;
        }
        target.style.pointerEvents = 'none';
        
        // Remove the element after bleeding animation
        setTimeout(() => {
            if (target.parentNode) {
                target.parentNode.removeChild(target);
            }
        }, 1000);
        
        // Prevent event bubbling
        e.stopPropagation();
    }
});

// Create horse button
const horseBtn = document.createElement('button');
horseBtn.className = 'horse-button';
horseBtn.textContent = 'üêé Horse Mitosis';
horseBtn.style.position = 'fixed';
horseBtn.style.top = '320px';
horseBtn.style.left = '20px';
horseBtn.style.padding = '10px 20px';
horseBtn.style.background = '#8e44ad';
horseBtn.style.color = 'white';
horseBtn.style.border = 'none';
horseBtn.style.borderRadius = '8px';
horseBtn.style.cursor = 'pointer';
horseBtn.style.fontSize = '18px';
horseBtn.style.zIndex = '1010';
horseBtn.style.transition = 'all 0.3s';

// Horse mitosis functionality
function createHorse() {
    const horse = document.createElement('img');
    horse.src = 'horse.gif';
    horse.className = 'horse';
    horse.alt = 'Horse';
    horse.style.left = Math.random() * (window.innerWidth - 100) + 'px';
    horse.style.top = Math.random() * (window.innerHeight - 100) + 'px';
    document.body.appendChild(horse);
    
    function moveHorse() {
        const newX = Math.random() * (window.innerWidth - 100);
        const newY = Math.random() * (window.innerHeight - 100);
        horse.style.left = newX + 'px';
        horse.style.top = newY + 'px';
    }
    
    function splitHorse() {
        if (document.querySelectorAll('.horse').length < 50) {  // Limit to prevent crash
            // Play sound with new instance each time
            if (!isMuted) {
                const horseSound = new Audio('HORSE.mp3');
                horseSound.play();
            }
            
            // Animation
            horse.style.animation = 'horseMitosis 1s';
            setTimeout(() => { horse.style.animation = ''; }, 1000);
            
            // Create new horse
            createHorse();
        }
    }
    
    // Move every 2 seconds
    setInterval(moveHorse, 2000);
    
    // Split every 5-10 seconds
    const splitInterval = Math.random() * 5000 + 5000; // Random between 5-10 seconds
    setInterval(splitHorse, splitInterval);
}

horseBtn.onclick = () => createHorse();

// Add button to document
document.body.appendChild(horseBtn);
document.body.appendChild(gunBtn);
document.body.appendChild(smicheBtn);
</script>
</body></html>